# install nmap
apt-get update && apt-get install nmap -y
Nmap 7.60 ( https://nmap.org )

# nmap纯扫描
nmap [hostnames, IP addresses, networks, etc]

# 显示详细信息
nmap -vv 192.168.31.1

# 扫描端口
nmap -p[1-1000] ip

# PING
# 如果服务器禁PING或者放在防火墙下面的，不加-Pn参数的它就会认为这个扫描的主机不存活就不会进行扫描了
nmap -sP ip

# tracert
nmap --traceroute ip

# 检测操作系统
nmap -O ip

# -sU 表示扫描UDP端口
nmap -sU ntp.aliyun.com -p123 -Pn  
Starting Nmap 7.60 ( https://nmap.org ) at 2021-07-27 16:12 CST
Nmap scan report for ntp.aliyun.com (203.107.6.88)
Host is up (0.027s latency).
PORT    STATE SERVICE
123/udp open  ntp
Nmap done: 1 IP address (1 host up) scanned in 0.33 seconds

# ntp_monlist漏洞检测
# -sV: Probe open ports to determine service/version info
# 在新的nmap版本中,添加了script功能的使用。在nmap的安装目录的share/nmap/scripts中，已经有将61个写好的脚本提供。
# find / -type d -name "nmap" && ls /usr/share/nmap/scripts | wc -l --> 580
nmap -sU -p 123 -sV -Pn --script='ntp-monlist' ntp.aliyun.com
